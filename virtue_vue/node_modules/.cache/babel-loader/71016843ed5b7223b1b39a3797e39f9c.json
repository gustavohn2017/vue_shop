{"ast":null,"code":"import axios from 'axios';\nimport CartItem from '@/components/CartItem.vue';\nexport default {\n  name: 'Carrinho',\n  components: {\n    CartItem\n  },\n  data() {\n    return {\n      cart: {\n        items: []\n      }\n    };\n  },\n  mounted() {\n    this.cart = this.$store.state.cart;\n  },\n  methods: {\n    removeFromCart(item) {\n      this.cart.items = this.cart.items.filter(i => i.product.id !== item.product.id);\n    },\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace('.', ',');\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    }\n  },\n  computed: {\n    cartTotalLength() {\n      return this.cart.items.reduce((acc, curVal) => {\n        return acc += curVal.quantity;\n      }, 0);\n    },\n    cartTotalPrice() {\n      return this.cart.items.reduce((acc, curVal) => {\n        return acc += curVal.product.price * curVal.quantity;\n      }, 0);\n    }\n  }\n};","map":{"version":3,"sources":["C:\\Users\\Gustavo\\Desktop\\Portifólio\\ecommerce\\virtue_vue\\src\\views\\Cart.vue"],"names":[],"mappings":"AA8CA,OAAO,KAAI,MAAO,OAAM;AACxB,OAAO,QAAO,MAAO,2BAA0B;AAE/C,eAAe;EACX,IAAI,EAAE,UAAU;EAChB,UAAU,EAAE;IACR;EACJ,CAAC;EACD,IAAI,GAAG;IACH,OAAO;MACH,IAAI,EAAE;QACF,KAAK,EAAE;MACX;IACJ,CAAA;EACJ,CAAC;EACD,OAAO,GAAG;IACN,IAAI,CAAC,IAAG,GAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAG;EACrC,CAAC;EACD,OAAO,EAAE;IACL,cAAc,CAAC,IAAI,EAAE;MACjB,IAAI,CAAC,IAAI,CAAC,KAAI,GAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA,IAAK,CAAC,CAAC,OAAO,CAAC,EAAC,KAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAA;IAClF,CAAC;IACD,WAAW,CAAC,KAAK,EAAE;MACnB,IAAI,GAAE,GAAI,CAAC,KAAK,GAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAA;MAC/C,OAAO,GAAG,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAA;IAC9D;EAEA,CAAC;EAED,QAAQ,EAAE;IACN,eAAe,GAAG;MACd,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,MAAM,KAAK;QAC3C,OAAO,GAAE,IAAK,MAAM,CAAC,QAAO;MAChC,CAAC,EAAE,CAAC,CAAA;IACR,CAAC;IACD,cAAc,GAAG;MACb,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,MAAM,KAAK;QAC3C,OAAO,GAAE,IAAK,MAAM,CAAC,OAAO,CAAC,KAAI,GAAI,MAAM,CAAC,QAAO;MACvD,CAAC,EAAE,CAAC,CAAA;IACR;EACJ;AACJ,CAAA","sourcesContent":["<template>\r\n    <div class=\"page-cart\">\r\n        <div class=\"columns is-multiline\">\r\n            <div class=\"column is-12\">\r\n                <h1 class=\"title\">Carrinho de compras</h1>\r\n            </div>\r\n\r\n            <div class=\"column is-12 box\">\r\n                <table class=\"table is-fullwidth\" v-if=\"cartTotalLength\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Item</th>\r\n                            <th>Preço</th>\r\n                            <th>Quantidade</th>\r\n                            <th>Total</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <!--trocar pra tabela-->\r\n\r\n                    <tbody>\r\n                        <CartItem \r\n                            v-for=\"item in cart.items\"\r\n                            v-bind:key=\"item.product.id\"\r\n                            v-bind:initialItem=\"item\"\r\n                            v-on:removeFromCart=\"removeFromCart\" />\r\n                    </tbody>\r\n                </table>\r\n\r\n                <p v-else>Ops! Parece que você ainda não adicionou nenhum produto.</p>\r\n            </div>\r\n\r\n            <div class=\"column is-12 box\">\r\n                <h2 class=\"subtitle\">Total</h2>\r\n\r\n                <strong>R$ {{ formatPrice(cartTotalPrice.toFixed(2)) }}</strong>, {{ cartTotalLength }} items\r\n\r\n                <hr>\r\n\r\n                <router-link to=\"/cart/checkout\" class=\"button is-dark\">Ir para a página de pagamento</router-link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport CartItem from '@/components/CartItem.vue'\r\n\r\nexport default {\r\n    name: 'Carrinho',\r\n    components: {\r\n        CartItem\r\n    },\r\n    data() {\r\n        return {\r\n            cart: {\r\n                items: []\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.cart = this.$store.state.cart\r\n    },\r\n    methods: {\r\n        removeFromCart(item) {\r\n            this.cart.items = this.cart.items.filter(i => i.product.id !== item.product.id)\r\n        },\r\n        formatPrice(value) {\r\n        let val = (value/1).toFixed(2).replace('.', ',')\r\n        return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")\r\n    },\r\n\r\n    },\r\n    \r\n    computed: {\r\n        cartTotalLength() {\r\n            return this.cart.items.reduce((acc, curVal) => {\r\n                return acc += curVal.quantity\r\n            }, 0)\r\n        },\r\n        cartTotalPrice() {\r\n            return this.cart.items.reduce((acc, curVal) => {\r\n                return acc += curVal.product.price * curVal.quantity\r\n            }, 0)\r\n        },\r\n    }\r\n}\r\n</script>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}